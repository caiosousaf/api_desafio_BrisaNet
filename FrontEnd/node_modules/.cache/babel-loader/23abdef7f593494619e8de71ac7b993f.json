{"ast":null,"code":"import { checkRequired, createValidator, createValidatorAsync, isEmpty, formatErrorMessage } from './utils';\nimport locales from './locales';\nexport var MixedType = /*#__PURE__*/function () {\n  function MixedType(name) {\n    this.typeName = void 0;\n    this.required = false;\n    this.requiredMessage = '';\n    this.trim = false;\n    this.emptyAllowed = false;\n    this.rules = [];\n    this.priorityRules = [];\n    this.schemaSpec = void 0;\n    this.value = void 0;\n    this.locale = void 0;\n    this.typeName = name;\n    this.locale = Object.assign(name ? locales[name] : {}, locales.mixed);\n  }\n\n  var _proto = MixedType.prototype;\n\n  _proto.setSchemaOptions = function setSchemaOptions(schemaSpec, value) {\n    this.schemaSpec = schemaSpec;\n    this.value = value;\n  };\n\n  _proto.check = function check(value, data, fieldName) {\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return {\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      };\n    }\n\n    var validator = createValidator(data, fieldName);\n    var checkStatus = validator(value, this.priorityRules);\n\n    if (checkStatus) {\n      return checkStatus;\n    }\n\n    if (!this.required && isEmpty(value)) {\n      return {\n        hasError: false\n      };\n    }\n\n    return validator(value, this.rules) || {\n      hasError: false\n    };\n  };\n\n  _proto.checkAsync = function checkAsync(value, data, fieldName) {\n    var _this = this;\n\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return Promise.resolve({\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      });\n    }\n\n    var validator = createValidatorAsync(data, fieldName);\n    return new Promise(function (resolve) {\n      return validator(value, _this.priorityRules).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n      }).then(function () {\n        if (!_this.required && isEmpty(value)) {\n          resolve({\n            hasError: false\n          });\n        }\n      }).then(function () {\n        return validator(value, _this.rules);\n      }).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n\n        resolve({\n          hasError: false\n        });\n      });\n    });\n  };\n\n  _proto.pushRule = function pushRule(rule) {\n    var _this$rules, _this$rules$;\n\n    var onValid = rule.onValid,\n        errorMessage = rule.errorMessage,\n        priority = rule.priority,\n        params = rule.params;\n    var nextRule = {\n      onValid: onValid,\n      params: params,\n      errorMessage: errorMessage || ((_this$rules = this.rules) === null || _this$rules === void 0 ? void 0 : (_this$rules$ = _this$rules[0]) === null || _this$rules$ === void 0 ? void 0 : _this$rules$.errorMessage)\n    };\n\n    if (priority) {\n      this.priorityRules.push(nextRule);\n    } else {\n      this.rules.push(nextRule);\n    }\n  };\n\n  _proto.addRule = function addRule(onValid, errorMessage, priority) {\n    this.pushRule({\n      onValid: onValid,\n      errorMessage: errorMessage,\n      priority: priority\n    });\n    return this;\n  };\n\n  _proto.isRequired = function isRequired(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequired;\n    }\n\n    if (trim === void 0) {\n      trim = true;\n    }\n\n    this.required = true;\n    this.trim = trim;\n    this.requiredMessage = errorMessage;\n    return this;\n  };\n\n  _proto.isRequiredOrEmpty = function isRequiredOrEmpty(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequiredOrEmpty;\n    }\n\n    if (trim === void 0) {\n      trim = true;\n    }\n\n    this.required = true;\n    this.trim = trim;\n    this.emptyAllowed = true;\n    this.requiredMessage = errorMessage;\n    return this;\n  }\n  /**\n   * Define data verification rules based on conditions.\n   * @param validator\n   * @example\n   * MixedType().when(schema => {\n   *   return schema.filed1.check() ? NumberType().min(5) : NumberType().min(0);\n   * });\n   */\n  ;\n\n  _proto.when = function when(condition) {\n    var _this2 = this;\n\n    this.addRule(function (value, data, filedName) {\n      return condition(_this2.schemaSpec).check(value, data, filedName);\n    }, undefined, true);\n    return this;\n  };\n\n  return MixedType;\n}();\nexport default function getMixedType() {\n  return new MixedType();\n}","map":{"version":3,"names":["checkRequired","createValidator","createValidatorAsync","isEmpty","formatErrorMessage","locales","MixedType","name","typeName","required","requiredMessage","trim","emptyAllowed","rules","priorityRules","schemaSpec","value","locale","Object","assign","mixed","_proto","prototype","setSchemaOptions","check","data","fieldName","hasError","errorMessage","validator","checkStatus","checkAsync","_this","Promise","resolve","then","pushRule","rule","_this$rules","_this$rules$","onValid","priority","params","nextRule","push","addRule","isRequired","isRequiredOrEmpty","when","condition","_this2","filedName","undefined","getMixedType"],"sources":["/home/brisa/Documentos/api_desafio_BrisaNet/FrontEnd/node_modules/schema-typed/es/MixedType.js"],"sourcesContent":["import { checkRequired, createValidator, createValidatorAsync, isEmpty, formatErrorMessage } from './utils';\nimport locales from './locales';\nexport var MixedType = /*#__PURE__*/function () {\n  function MixedType(name) {\n    this.typeName = void 0;\n    this.required = false;\n    this.requiredMessage = '';\n    this.trim = false;\n    this.emptyAllowed = false;\n    this.rules = [];\n    this.priorityRules = [];\n    this.schemaSpec = void 0;\n    this.value = void 0;\n    this.locale = void 0;\n    this.typeName = name;\n    this.locale = Object.assign(name ? locales[name] : {}, locales.mixed);\n  }\n\n  var _proto = MixedType.prototype;\n\n  _proto.setSchemaOptions = function setSchemaOptions(schemaSpec, value) {\n    this.schemaSpec = schemaSpec;\n    this.value = value;\n  };\n\n  _proto.check = function check(value, data, fieldName) {\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return {\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      };\n    }\n\n    var validator = createValidator(data, fieldName);\n    var checkStatus = validator(value, this.priorityRules);\n\n    if (checkStatus) {\n      return checkStatus;\n    }\n\n    if (!this.required && isEmpty(value)) {\n      return {\n        hasError: false\n      };\n    }\n\n    return validator(value, this.rules) || {\n      hasError: false\n    };\n  };\n\n  _proto.checkAsync = function checkAsync(value, data, fieldName) {\n    var _this = this;\n\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return Promise.resolve({\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      });\n    }\n\n    var validator = createValidatorAsync(data, fieldName);\n    return new Promise(function (resolve) {\n      return validator(value, _this.priorityRules).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n      }).then(function () {\n        if (!_this.required && isEmpty(value)) {\n          resolve({\n            hasError: false\n          });\n        }\n      }).then(function () {\n        return validator(value, _this.rules);\n      }).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n\n        resolve({\n          hasError: false\n        });\n      });\n    });\n  };\n\n  _proto.pushRule = function pushRule(rule) {\n    var _this$rules, _this$rules$;\n\n    var onValid = rule.onValid,\n        errorMessage = rule.errorMessage,\n        priority = rule.priority,\n        params = rule.params;\n    var nextRule = {\n      onValid: onValid,\n      params: params,\n      errorMessage: errorMessage || ((_this$rules = this.rules) === null || _this$rules === void 0 ? void 0 : (_this$rules$ = _this$rules[0]) === null || _this$rules$ === void 0 ? void 0 : _this$rules$.errorMessage)\n    };\n\n    if (priority) {\n      this.priorityRules.push(nextRule);\n    } else {\n      this.rules.push(nextRule);\n    }\n  };\n\n  _proto.addRule = function addRule(onValid, errorMessage, priority) {\n    this.pushRule({\n      onValid: onValid,\n      errorMessage: errorMessage,\n      priority: priority\n    });\n    return this;\n  };\n\n  _proto.isRequired = function isRequired(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequired;\n    }\n\n    if (trim === void 0) {\n      trim = true;\n    }\n\n    this.required = true;\n    this.trim = trim;\n    this.requiredMessage = errorMessage;\n    return this;\n  };\n\n  _proto.isRequiredOrEmpty = function isRequiredOrEmpty(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequiredOrEmpty;\n    }\n\n    if (trim === void 0) {\n      trim = true;\n    }\n\n    this.required = true;\n    this.trim = trim;\n    this.emptyAllowed = true;\n    this.requiredMessage = errorMessage;\n    return this;\n  }\n  /**\n   * Define data verification rules based on conditions.\n   * @param validator\n   * @example\n   * MixedType().when(schema => {\n   *   return schema.filed1.check() ? NumberType().min(5) : NumberType().min(0);\n   * });\n   */\n  ;\n\n  _proto.when = function when(condition) {\n    var _this2 = this;\n\n    this.addRule(function (value, data, filedName) {\n      return condition(_this2.schemaSpec).check(value, data, filedName);\n    }, undefined, true);\n    return this;\n  };\n\n  return MixedType;\n}();\nexport default function getMixedType() {\n  return new MixedType();\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}