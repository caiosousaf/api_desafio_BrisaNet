{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport formatErrorMessage from './formatErrorMessage';\n/**\n * Create a data asynchronous validator\n * @param data\n */\n\nexport function createValidatorAsync(data, name) {\n  function check(errorMessage) {\n    return function (checkResult) {\n      if (checkResult === false) {\n        return {\n          hasError: true,\n          errorMessage: errorMessage\n        };\n      } else if (typeof checkResult === 'object' && (checkResult.hasError || checkResult.array)) {\n        return checkResult;\n      }\n\n      return null;\n    };\n  }\n\n  return function (value, rules) {\n    var promises = rules.map(function (rule) {\n      var onValid = rule.onValid,\n          errorMessage = rule.errorMessage,\n          params = rule.params;\n      return Promise.resolve(onValid(value, data, name)).then(check(formatErrorMessage(errorMessage, _extends({}, params, {\n        name: Array.isArray(name) ? name.join('.') : name\n      }))));\n    });\n    return Promise.all(promises).then(function (results) {\n      return results.find(function (item) {\n        return item && (item === null || item === void 0 ? void 0 : item.hasError);\n      });\n    });\n  };\n}\nexport default createValidatorAsync;","map":{"version":3,"names":["_extends","formatErrorMessage","createValidatorAsync","data","name","check","errorMessage","checkResult","hasError","array","value","rules","promises","map","rule","onValid","params","Promise","resolve","then","Array","isArray","join","all","results","find","item"],"sources":["/home/brisa/Documentos/api_desafio_BrisaNet/FrontEnd/node_modules/schema-typed/es/utils/createValidatorAsync.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport formatErrorMessage from './formatErrorMessage';\n/**\n * Create a data asynchronous validator\n * @param data\n */\n\nexport function createValidatorAsync(data, name) {\n  function check(errorMessage) {\n    return function (checkResult) {\n      if (checkResult === false) {\n        return {\n          hasError: true,\n          errorMessage: errorMessage\n        };\n      } else if (typeof checkResult === 'object' && (checkResult.hasError || checkResult.array)) {\n        return checkResult;\n      }\n\n      return null;\n    };\n  }\n\n  return function (value, rules) {\n    var promises = rules.map(function (rule) {\n      var onValid = rule.onValid,\n          errorMessage = rule.errorMessage,\n          params = rule.params;\n      return Promise.resolve(onValid(value, data, name)).then(check(formatErrorMessage(errorMessage, _extends({}, params, {\n        name: Array.isArray(name) ? name.join('.') : name\n      }))));\n    });\n    return Promise.all(promises).then(function (results) {\n      return results.find(function (item) {\n        return item && (item === null || item === void 0 ? void 0 : item.hasError);\n      });\n    });\n  };\n}\nexport default createValidatorAsync;"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,oBAAT,CAA8BC,IAA9B,EAAoCC,IAApC,EAA0C;EAC/C,SAASC,KAAT,CAAeC,YAAf,EAA6B;IAC3B,OAAO,UAAUC,WAAV,EAAuB;MAC5B,IAAIA,WAAW,KAAK,KAApB,EAA2B;QACzB,OAAO;UACLC,QAAQ,EAAE,IADL;UAELF,YAAY,EAAEA;QAFT,CAAP;MAID,CALD,MAKO,IAAI,OAAOC,WAAP,KAAuB,QAAvB,KAAoCA,WAAW,CAACC,QAAZ,IAAwBD,WAAW,CAACE,KAAxE,CAAJ,EAAoF;QACzF,OAAOF,WAAP;MACD;;MAED,OAAO,IAAP;IACD,CAXD;EAYD;;EAED,OAAO,UAAUG,KAAV,EAAiBC,KAAjB,EAAwB;IAC7B,IAAIC,QAAQ,GAAGD,KAAK,CAACE,GAAN,CAAU,UAAUC,IAAV,EAAgB;MACvC,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;MAAA,IACIT,YAAY,GAAGQ,IAAI,CAACR,YADxB;MAAA,IAEIU,MAAM,GAAGF,IAAI,CAACE,MAFlB;MAGA,OAAOC,OAAO,CAACC,OAAR,CAAgBH,OAAO,CAACL,KAAD,EAAQP,IAAR,EAAcC,IAAd,CAAvB,EAA4Ce,IAA5C,CAAiDd,KAAK,CAACJ,kBAAkB,CAACK,YAAD,EAAeN,QAAQ,CAAC,EAAD,EAAKgB,MAAL,EAAa;QAClHZ,IAAI,EAAEgB,KAAK,CAACC,OAAN,CAAcjB,IAAd,IAAsBA,IAAI,CAACkB,IAAL,CAAU,GAAV,CAAtB,GAAuClB;MADqE,CAAb,CAAvB,CAAnB,CAAtD,CAAP;IAGD,CAPc,CAAf;IAQA,OAAOa,OAAO,CAACM,GAAR,CAAYX,QAAZ,EAAsBO,IAAtB,CAA2B,UAAUK,OAAV,EAAmB;MACnD,OAAOA,OAAO,CAACC,IAAR,CAAa,UAAUC,IAAV,EAAgB;QAClC,OAAOA,IAAI,KAAKA,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAAClB,QAAtD,CAAX;MACD,CAFM,CAAP;IAGD,CAJM,CAAP;EAKD,CAdD;AAeD;AACD,eAAeN,oBAAf"},"metadata":{},"sourceType":"module"}