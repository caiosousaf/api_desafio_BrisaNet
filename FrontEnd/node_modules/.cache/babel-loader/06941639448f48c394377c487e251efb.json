{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport IconCalendar from '@rsuite/icons/legacy/Calendar';\nimport isNil from 'lodash/isNil';\nimport omit from 'lodash/omit';\nimport partial from 'lodash/partial';\nimport pick from 'lodash/pick';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { FormattedDate } from '../CustomProvider';\nimport Toolbar from '../DatePicker/Toolbar';\nimport { omitTriggerPropKeys, PickerOverlay, pickerPropTypes, PickerToggle, PickerToggleTrigger, pickTriggerPropKeys, usePickerClassName, usePublicMethods, useToggleKeyDownEvent } from '../Picker';\nimport { createChainedFunction, DATERANGE_DISABLED_TARGET, DateUtils, mergeRefs, useClassNames, useControlled, useCustom } from '../utils';\nimport { addMonths, compareAsc, isSameMonth } from '../utils/dateUtils';\nimport Calendar from './Calendar';\nimport * as disabledDateUtils from './disabledDateUtils';\nimport { getCalendarDate, getMonthHoverRange, getWeekHoverRange, isSameRange, setTimingMargin } from './utils';\nvar DateRangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref, _ref2, _merge;\n\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n      className = props.className,\n      _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n      _props$cleanable = props.cleanable,\n      cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n      _props$character = props.character,\n      character = _props$character === void 0 ? ' ~ ' : _props$character,\n      defaultCalendarValue = props.defaultCalendarValue,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      disabledDateProp = props.disabledDate,\n      _props$format = props.format,\n      formatStr = _props$format === void 0 ? 'yyyy-MM-dd' : _props$format,\n      hoverRange = props.hoverRange,\n      _props$isoWeek = props.isoWeek,\n      isoWeek = _props$isoWeek === void 0 ? false : _props$isoWeek,\n      _props$limitEndYear = props.limitEndYear,\n      limitEndYear = _props$limitEndYear === void 0 ? 1000 : _props$limitEndYear,\n      overrideLocale = props.locale,\n      menuClassName = props.menuClassName,\n      menuStyle = props.menuStyle,\n      oneTap = props.oneTap,\n      _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? '' : _props$placeholder,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n      ranges = props.ranges,\n      renderValue = props.renderValue,\n      _props$showOneCalenda = props.showOneCalendar,\n      showOneCalendar = _props$showOneCalenda === void 0 ? false : _props$showOneCalenda,\n      showWeekNumbers = props.showWeekNumbers,\n      showMeridian = props.showMeridian,\n      style = props.style,\n      toggleAs = props.toggleAs,\n      caretAs = props.caretAs,\n      valueProp = props.value,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onOk = props.onOk,\n      onOpen = props.onOpen,\n      onSelect = props.onSelect,\n      renderTitle = props.renderTitle,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"className\", \"appearance\", \"cleanable\", \"character\", \"defaultCalendarValue\", \"defaultValue\", \"disabled\", \"disabledDate\", \"format\", \"hoverRange\", \"isoWeek\", \"limitEndYear\", \"locale\", \"menuClassName\", \"menuStyle\", \"oneTap\", \"placeholder\", \"placement\", \"ranges\", \"renderValue\", \"showOneCalendar\", \"showWeekNumbers\", \"showMeridian\", \"style\", \"toggleAs\", \"caretAs\", \"value\", \"onChange\", \"onClean\", \"onClose\", \"onEnter\", \"onEntered\", \"onExited\", \"onOk\", \"onOpen\", \"onSelect\", \"renderTitle\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var _useCustom = useCustom('DateRangePicker', overrideLocale),\n      locale = _useCustom.locale,\n      formatDate = _useCustom.formatDate,\n      parseDate = _useCustom.parseDate;\n\n  var rangeFormatStr = \"\" + formatStr + character + formatStr;\n\n  var _useControlled = useControlled(valueProp, defaultValue !== null && defaultValue !== void 0 ? defaultValue : null),\n      value = _useControlled[0],\n      setValue = _useControlled[1];\n  /**\n   * Whether to complete the selection.\n   * Everytime selection will change this value. If the value is false, it means that the selection has not been completed.\n   *\n   * In `oneTap` mode, select action will not change this value, its value should be true always.\n   */\n\n\n  var hasDoneSelect = useRef(true);\n  /**\n   * The currently selected date range.\n   *\n   * The time range is selected by two clicks. After the first click,\n   * the cursor will store a temporary event date in the process until\n   * the second click to determine the end date of the date range.\n   *\n   */\n\n  var _useState = useState((_ref = valueProp !== null && valueProp !== void 0 ? valueProp : defaultValue) !== null && _ref !== void 0 ? _ref : []),\n      selectedDates = _useState[0],\n      setSelectedDates = _useState[1]; // The date of the current hover, used to reduce the calculation of `handleMouseMove`\n\n\n  var _useState2 = useState(null),\n      hoverDateRange = _useState2[0],\n      setHoverDateRange = _useState2[1]; // The displayed calendar panel is rendered based on this value.\n\n\n  var _useState3 = useState(getCalendarDate({\n    value: (_ref2 = valueProp !== null && valueProp !== void 0 ? valueProp : defaultCalendarValue) !== null && _ref2 !== void 0 ? _ref2 : null\n  })),\n      calendarDate = _useState3[0],\n      setCalendarDate = _useState3[1];\n\n  var _useState4 = useState(),\n      inputState = _useState4[0],\n      setInputState = _useState4[1];\n  /**\n   * When hoverRange is set, `selectValue` will be updated during the hover process,\n   * which will cause the `selectValue` to be updated after the first click,\n   * so declare a Ref to temporarily store the `selectValue` of the first click.\n   */\n\n\n  var selectRangeValueRef = useRef(null);\n  /**\n   * Call this function to update the calendar panel rendering benchmark value.\n   * If params `value` is not passed, it defaults to [new Date(), addMonth(new Date(), 1)].\n   */\n\n  var updateCalendarDate = useCallback(function (value) {\n    setCalendarDate(getCalendarDate({\n      value: value\n    }));\n  }, []); // if valueProp changed then update selectValue/hoverValue\n\n  useEffect(function () {\n    setSelectedDates(valueProp !== null && valueProp !== void 0 ? valueProp : []);\n    setHoverDateRange(valueProp !== null && valueProp !== void 0 ? valueProp : null);\n  }, [valueProp]);\n\n  var _useState5 = useState(false),\n      isPickerToggleActive = _useState5[0],\n      setPickerToggleActive = _useState5[1];\n\n  var rootRef = useRef(null);\n  var overlayRef = useRef(null);\n  var targetRef = useRef(null);\n  var triggerRef = useRef(null);\n  var handleCloseDropdown = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    rootRef: rootRef\n  });\n  var getDisplayString = useCallback(function (nextValue, isPlaintext) {\n    var _nextValue$, _nextValue$2;\n\n    var startDate = (_nextValue$ = nextValue === null || nextValue === void 0 ? void 0 : nextValue[0]) !== null && _nextValue$ !== void 0 ? _nextValue$ : null;\n    var endDate = (_nextValue$2 = nextValue === null || nextValue === void 0 ? void 0 : nextValue[1]) !== null && _nextValue$2 !== void 0 ? _nextValue$2 : null;\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n\n      if (isPlaintext) {\n        return formatDate(displayValue[0], formatStr) + character + formatDate(displayValue[1], formatStr);\n      }\n\n      return renderValue ? renderValue(displayValue, formatStr) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatStr\n      }), character, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatStr\n      }));\n    }\n\n    return isPlaintext ? '' : placeholder || rangeFormatStr;\n  }, [character, formatDate, formatStr, placeholder, rangeFormatStr, renderValue]);\n  /**\n   * preset hover range\n   */\n\n  var getHoverRangeValue = useCallback(function (date) {\n    function getHoverRangeFunc() {\n      if (hoverRange === 'week') {\n        return partial(getWeekHoverRange, isoWeek);\n      } else if (hoverRange === 'month') {\n        return getMonthHoverRange;\n      }\n\n      return hoverRange;\n    }\n\n    var hoverRangeFunc = getHoverRangeFunc();\n\n    if (isNil(hoverRangeFunc)) {\n      return null;\n    }\n\n    var hoverValues = hoverRangeFunc(date);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return null;\n    }\n\n    if (DateUtils.isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  }, [hoverRange, isoWeek]);\n  var handleValueUpdate = useCallback(function (event, nextValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    } // If nextValue is null, it means that the user is erasing the selected dates.\n\n\n    setSelectedDates(nextValue !== null && nextValue !== void 0 ? nextValue : []);\n\n    if (!isSameRange(nextValue, value, formatStr)) {\n      setValue(nextValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(nextValue, event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      handleCloseDropdown();\n    }\n  }, [formatStr, handleCloseDropdown, onChange, setValue, value]);\n  /**\n   * Select the date range. If oneTap is not set, you need to click twice to select the start time and end time.\n   * The MouseMove event is called between the first click and the second click to update the selection state.\n   */\n\n  var handleMouseMove = useCallback(function (date) {\n    var nextHoverDateRange = getHoverRangeValue(date); // If hasDoneSelect is false,\n    // it means there's already one selected date\n    // and waiting for user to select the second date to complete the selection.\n\n    if (!hasDoneSelect.current) {\n      // If `hoverRange` is set, you need to change the value of hoverDateRange according to the rules\n      if (!isNil(nextHoverDateRange) && !isNil(selectRangeValueRef.current)) {\n        var nextSelectedDates = [selectRangeValueRef.current[0], nextHoverDateRange[1]];\n\n        if (DateUtils.isBefore(nextHoverDateRange[0], selectRangeValueRef.current[0])) {\n          nextSelectedDates = [nextHoverDateRange[0], selectRangeValueRef.current[1]];\n        }\n\n        setSelectedDates(nextSelectedDates);\n      } else {\n        setHoverDateRange(function (prevHoverValue) {\n          return isNil(prevHoverValue) ? null : [prevHoverValue[0], date];\n        });\n      } // Before the first click, if nextHoverDateRange has a value, hoverDateRange needs to be updated\n\n    } else if (!isNil(nextHoverDateRange)) {\n      setHoverDateRange(nextHoverDateRange);\n    }\n  }, [getHoverRangeValue]);\n  /**\n   * Callback for selecting a date cell in the calendar grid\n   */\n\n  var handleSelectDate = useCallback(function (date, event) {\n    var nextSelectDates = hoverDateRange !== null && hoverDateRange !== void 0 ? hoverDateRange : [];\n    var hoverRangeValue = getHoverRangeValue(date);\n    var noHoverRangeValid = isNil(hoverRangeValue); // in `oneTap` mode\n\n    if (hasDoneSelect.current && oneTap) {\n      handleValueUpdate(event, noHoverRangeValid ? [setTimingMargin(date), setTimingMargin(date, 'right')] : hoverRangeValue);\n      hasDoneSelect.current = false;\n      return;\n    } // no preset hover range can use\n\n\n    if (noHoverRangeValid) {\n      // start select\n      if (hasDoneSelect.current) {\n        nextSelectDates = [date];\n      } else {\n        // finish select\n        nextSelectDates[1] = date;\n      }\n    } else {\n      if (!hasDoneSelect.current) {\n        nextSelectDates = selectedDates;\n        selectRangeValueRef.current = null;\n      } else {\n        nextSelectDates = hoverRangeValue;\n        selectRangeValueRef.current = hoverRangeValue;\n      }\n    } // If user have completed the selection, then sort\n\n\n    if (nextSelectDates.length === 2 && DateUtils.isAfter(nextSelectDates[0], nextSelectDates[1])) {\n      nextSelectDates.reverse();\n    }\n\n    setHoverDateRange(nextSelectDates.length === 2 ? nextSelectDates : [nextSelectDates[0], nextSelectDates[0]]);\n    setSelectedDates(nextSelectDates);\n    updateCalendarDate(nextSelectDates);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(date, event);\n    hasDoneSelect.current = !hasDoneSelect.current;\n  }, [getHoverRangeValue, handleValueUpdate, hoverDateRange, onSelect, oneTap, selectedDates, updateCalendarDate]);\n  /**\n   * If `selectValue` changed, there will be the following effects.\n   * 1. Check if the selection is completed.\n   * 2. if the selection is completed, set the temporary `hoverValue` empty.\n   */\n\n  useEffect(function () {\n    var selectValueLength = selectedDates.length;\n    var doneSelected = selectValueLength === 0 || selectValueLength === 2;\n    doneSelected && setHoverDateRange(null);\n  }, [selectedDates]);\n  var handleChangeCalendarDate = useCallback(function (index, date) {\n    var nextCalendarDate = Array.from(calendarDate);\n    nextCalendarDate[index] = date;\n    updateCalendarDate(nextCalendarDate);\n  }, [calendarDate, updateCalendarDate]);\n  var handleChangeCalendarTime = useCallback(function (index, date) {\n    setSelectedDates(function (prev) {\n      var next = [].concat(prev);\n      var clonedDate = new Date(date.valueOf()); // if next[index] is not empty, only update the time after aligning the year, month and day\n\n      if (next[index]) {\n        clonedDate.setFullYear(next[index].getFullYear(), next[index].getMonth(), next[index].getDate());\n      }\n\n      next[index] = clonedDate;\n      return next;\n    });\n    handleChangeCalendarDate(index, date);\n  }, [handleChangeCalendarDate]);\n  /**\n   * The callback triggered when PM/AM is switched.\n   */\n\n  var handleToggleMeridian = useCallback(function (index) {\n    var next = Array.from(calendarDate);\n    var clonedDate = new Date(next[index].valueOf());\n    var hours = DateUtils.getHours(clonedDate);\n    var nextHours = hours >= 12 ? hours - 12 : hours + 12;\n    next[index] = DateUtils.setHours(clonedDate, nextHours);\n    setCalendarDate(next); // If the value already exists, update the value again.\n\n    if (selectedDates.length === 2) {\n      setSelectedDates(next);\n    }\n  }, [calendarDate, selectedDates]);\n  /**\n   * Toolbar operation callback function\n   */\n\n  var handleShortcutPageDate = useCallback(function (value, closeOverlay, event) {\n    if (closeOverlay === void 0) {\n      closeOverlay = false;\n    }\n\n    handleValueUpdate(event, value, closeOverlay);\n  }, [handleValueUpdate]);\n  var handleOK = useCallback(function (event) {\n    handleValueUpdate(event, selectedDates);\n    onOk === null || onOk === void 0 ? void 0 : onOk(selectedDates, event);\n  }, [handleValueUpdate, onOk, selectedDates]);\n  var handleClean = useCallback(function (event) {\n    updateCalendarDate(null);\n    handleValueUpdate(event, null);\n  }, [handleValueUpdate, updateCalendarDate]);\n  /**\n   * Callback after the input box value is changed.\n   */\n\n  var handleInputChange = useCallback(function (value) {\n    setInputState('Typing');\n    var rangeValue = value.split(character); // isMatch('01/11/2020', 'MM/dd/yyyy') ==> true\n    // isMatch('2020-11-01', 'MM/dd/yyyy') ==> false\n\n    if (!DateUtils.isMatch(rangeValue[0], formatStr, {\n      locale: locale.dateLocale\n    }) || !DateUtils.isMatch(rangeValue[1], formatStr, {\n      locale: locale.dateLocale\n    })) {\n      setInputState('Error');\n      return;\n    }\n\n    var startDate = parseDate(rangeValue[0], formatStr);\n    var endDate = parseDate(rangeValue[1], formatStr);\n    var selectValue = [startDate, endDate];\n\n    if (!DateUtils.isValid(startDate) || !DateUtils.isValid(endDate)) {\n      setInputState('Error');\n      return;\n    }\n\n    if (isDateDisabled(startDate, selectValue, true, DATERANGE_DISABLED_TARGET.CALENDAR)) {\n      setInputState('Error');\n      return;\n    }\n\n    setHoverDateRange(selectValue);\n    setSelectedDates(selectValue);\n    updateCalendarDate(selectValue);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [character, rangeFormatStr, updateCalendarDate]);\n  /**\n   * The callback after the enter key is triggered on the input\n   */\n\n  var handleInputPressEnd = useCallback(function (event) {\n    if (inputState === 'Typing') {\n      handleValueUpdate(event, selectedDates.length === 2 ? selectedDates : null);\n    }\n\n    setInputState('Initial');\n  }, [handleValueUpdate, selectedDates, inputState]);\n  var handleEnter = useCallback(function () {\n    var nextCalendarDate;\n\n    if (value && value.length) {\n      var _startDate = value[0],\n          endData = value[1];\n      nextCalendarDate = [_startDate, isSameMonth(_startDate, endData) ? addMonths(endData, 1) : endData];\n    } else {\n      nextCalendarDate = getCalendarDate({\n        value: defaultCalendarValue !== null && defaultCalendarValue !== void 0 ? defaultCalendarValue : null\n      });\n    }\n\n    setSelectedDates(value !== null && value !== void 0 ? value : []);\n    updateCalendarDate(nextCalendarDate);\n  }, [defaultCalendarValue, updateCalendarDate, setSelectedDates, value]);\n  var handleEntered = useCallback(function () {\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setPickerToggleActive(true);\n  }, [onOpen]);\n  var handleExited = useCallback(function () {\n    setPickerToggleActive(false);\n    hasDoneSelect.current = true;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose]);\n  var isDateDisabled = useCallback(function (date, selectDate, selectedDone, target) {\n    var _disabledDateProp;\n\n    return (_disabledDateProp = disabledDateProp === null || disabledDateProp === void 0 ? void 0 : disabledDateProp(date, selectDate, selectedDone, target)) !== null && _disabledDateProp !== void 0 ? _disabledDateProp : false;\n  }, [disabledDateProp]);\n  var disabledByBetween = useCallback(function (start, end, type) {\n    // If the date is between the start and the end\n    // the button is disabled\n    while (DateUtils.isBefore(start, end) || DateUtils.isSameDay(start, end)) {\n      if (isDateDisabled(start, selectedDates, hasDoneSelect.current, type)) {\n        return true;\n      }\n\n      start = DateUtils.addDays(start, 1);\n    }\n\n    return false;\n  }, [isDateDisabled, selectedDates]);\n  var disabledOkButton = useCallback(function () {\n    var start = selectedDates[0],\n        end = selectedDates[1];\n\n    if (!start || !end || !hasDoneSelect.current) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n  }, [disabledByBetween, selectedDates]);\n  var disabledShortcutButton = useCallback(function (value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    var _value = value,\n        start = _value[0],\n        end = _value[1];\n\n    if (!start || !end) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n  }, [disabledByBetween]);\n  var handleDisabledDate = useCallback(function (date, values, type) {\n    return isDateDisabled(date, values, hasDoneSelect.current, type);\n  }, [isDateDisabled]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    active: isPickerToggleActive,\n    onExit: handleClean\n  }, rest));\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('daterange-menu'));\n    var panelClasses = prefix('daterange-panel', {\n      'daterange-panel-show-one-calendar': showOneCalendar\n    });\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var panelProps = {\n      calendarDate: calendarDate,\n      disabledDate: handleDisabledDate,\n      format: formatStr,\n      hoverRangeValue: hoverDateRange !== null && hoverDateRange !== void 0 ? hoverDateRange : undefined,\n      isoWeek: isoWeek,\n      limitEndYear: limitEndYear,\n      locale: locale,\n      showOneCalendar: showOneCalendar,\n      showWeekNumbers: showWeekNumbers,\n      value: selectedDates,\n      showMeridian: showMeridian,\n      onChangeCalendarDate: handleChangeCalendarDate,\n      onChangeCalendarTime: handleChangeCalendarTime,\n      onMouseMove: handleMouseMove,\n      onSelect: handleSelectDate,\n      onToggleMeridian: handleToggleMeridian,\n      renderTitle: renderTitle\n    };\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      className: classes,\n      ref: mergeRefs(overlayRef, speakerRef),\n      target: triggerRef,\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: panelClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-content')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-header')\n    }, getDisplayString(selectedDates)), /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 0\n    }, panelProps)), !showOneCalendar && /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 1\n    }, panelProps)))), /*#__PURE__*/React.createElement(Toolbar, {\n      locale: locale,\n      calendarDate: selectedDates,\n      disabledOkBtn: disabledOkButton,\n      disabledShortcut: disabledShortcutButton,\n      hideOkBtn: oneTap,\n      onOk: handleOK,\n      onClickShortcut: handleShortcutPageDate,\n      ranges: ranges\n    })));\n  };\n\n  var hasValue = !isNil(value) && value.length > 1;\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    classPrefix: classPrefix,\n    name: 'daterange',\n    appearance: appearance,\n    hasValue: hasValue,\n    cleanable: cleanable\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    ref: rootRef,\n    className: merge(className, classes, (_merge = {}, _merge[prefix('error')] = inputState === 'Error', _merge)),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys, DateUtils.calendarOnlyProps)), {\n    as: toggleAs,\n    ref: targetRef,\n    appearance: appearance,\n    input: true,\n    inputMask: DateUtils.getDateMask(rangeFormatStr),\n    inputValue: value ? getDisplayString(value, true) : '',\n    inputPlaceholder: typeof placeholder === 'string' && placeholder ? placeholder : rangeFormatStr,\n    onInputChange: handleInputChange,\n    onInputBlur: handleInputPressEnd,\n    onInputPressEnter: handleInputPressEnd,\n    onKeyDown: onPickerKeyDown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: isPickerToggleActive,\n    placement: placement,\n    disabled: disabled,\n    caretAs: caretAs || IconCalendar\n  }), getDisplayString(value))));\n});\nDateRangePicker.after = disabledDateUtils.after;\nDateRangePicker.afterToday = disabledDateUtils.afterToday;\nDateRangePicker.allowedDays = disabledDateUtils.allowedDays;\nDateRangePicker.allowedMaxDays = disabledDateUtils.allowedMaxDays;\nDateRangePicker.allowedRange = disabledDateUtils.allowedRange;\nDateRangePicker.before = disabledDateUtils.before;\nDateRangePicker.beforeToday = disabledDateUtils.beforeToday;\nDateRangePicker.combine = disabledDateUtils.combine;\nDateRangePicker.displayName = 'DateRangePicker';\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showWeekNumbers: PropTypes.bool,\n  showMeridian: PropTypes.bool,\n  showOneCalendar: PropTypes.bool\n});\nexport default DateRangePicker;","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","IconCalendar","isNil","omit","partial","pick","PropTypes","React","useCallback","useEffect","useRef","useState","FormattedDate","Toolbar","omitTriggerPropKeys","PickerOverlay","pickerPropTypes","PickerToggle","PickerToggleTrigger","pickTriggerPropKeys","usePickerClassName","usePublicMethods","useToggleKeyDownEvent","createChainedFunction","DATERANGE_DISABLED_TARGET","DateUtils","mergeRefs","useClassNames","useControlled","useCustom","addMonths","compareAsc","isSameMonth","Calendar","disabledDateUtils","getCalendarDate","getMonthHoverRange","getWeekHoverRange","isSameRange","setTimingMargin","DateRangePicker","forwardRef","props","ref","_ref","_ref2","_merge","_props$as","as","Component","_props$classPrefix","classPrefix","className","_props$appearance","appearance","_props$cleanable","cleanable","_props$character","character","defaultCalendarValue","defaultValue","disabled","disabledDateProp","disabledDate","_props$format","format","formatStr","hoverRange","_props$isoWeek","isoWeek","_props$limitEndYear","limitEndYear","overrideLocale","locale","menuClassName","menuStyle","oneTap","_props$placeholder","placeholder","_props$placement","placement","ranges","renderValue","_props$showOneCalenda","showOneCalendar","showWeekNumbers","showMeridian","style","toggleAs","caretAs","valueProp","value","onChange","onClean","onClose","onEnter","onEntered","onExited","onOk","onOpen","onSelect","renderTitle","rest","_useClassNames","merge","prefix","_useCustom","formatDate","parseDate","rangeFormatStr","_useControlled","setValue","hasDoneSelect","_useState","selectedDates","setSelectedDates","_useState2","hoverDateRange","setHoverDateRange","_useState3","calendarDate","setCalendarDate","_useState4","inputState","setInputState","selectRangeValueRef","updateCalendarDate","_useState5","isPickerToggleActive","setPickerToggleActive","rootRef","overlayRef","targetRef","triggerRef","handleCloseDropdown","_triggerRef$current","_triggerRef$current$c","current","close","call","getDisplayString","nextValue","isPlaintext","_nextValue$","_nextValue$2","startDate","endDate","displayValue","sort","createElement","Fragment","date","getHoverRangeValue","getHoverRangeFunc","hoverRangeFunc","hoverValues","isHoverRangeValid","Array","length","isAfter","reverse","handleValueUpdate","event","closeOverlay","handleMouseMove","nextHoverDateRange","nextSelectedDates","isBefore","prevHoverValue","handleSelectDate","nextSelectDates","hoverRangeValue","noHoverRangeValid","selectValueLength","doneSelected","handleChangeCalendarDate","index","nextCalendarDate","from","handleChangeCalendarTime","prev","next","concat","clonedDate","Date","valueOf","setFullYear","getFullYear","getMonth","getDate","handleToggleMeridian","hours","getHours","nextHours","setHours","handleShortcutPageDate","handleOK","handleClean","handleInputChange","rangeValue","split","isMatch","dateLocale","selectValue","isValid","isDateDisabled","CALENDAR","handleInputPressEnd","handleEnter","_startDate","endData","handleEntered","handleExited","selectDate","selectedDone","target","_disabledDateProp","disabledByBetween","start","end","type","isSameDay","addDays","disabledOkButton","TOOLBAR_BUTTON_OK","disabledShortcutButton","_value","TOOLBAR_SHORTCUT","handleDisabledDate","values","onPickerKeyDown","active","onExit","renderDropdownMenu","positionProps","speakerRef","left","top","classes","panelClasses","styles","panelProps","undefined","onChangeCalendarDate","onChangeCalendarTime","onMouseMove","onToggleMeridian","disabledOkBtn","disabledShortcut","hideOkBtn","onClickShortcut","hasValue","_usePickerClassName","name","usedClassNamePropKeys","pickerProps","speaker","calendarOnlyProps","input","inputMask","getDateMask","inputValue","inputPlaceholder","onInputChange","onInputBlur","onInputPressEnter","onKeyDown","after","afterToday","allowedDays","allowedMaxDays","allowedRange","before","beforeToday","combine","displayName","propTypes","array","arrayOf","instanceOf","oneOfType","oneOf","func","string","bool","number"],"sources":["/home/brisa/Documentos/api_desafio_BrisaNet/FrontEnd/node_modules/rsuite/esm/DateRangePicker/DateRangePicker.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport IconCalendar from '@rsuite/icons/legacy/Calendar';\nimport isNil from 'lodash/isNil';\nimport omit from 'lodash/omit';\nimport partial from 'lodash/partial';\nimport pick from 'lodash/pick';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { FormattedDate } from '../CustomProvider';\nimport Toolbar from '../DatePicker/Toolbar';\nimport { omitTriggerPropKeys, PickerOverlay, pickerPropTypes, PickerToggle, PickerToggleTrigger, pickTriggerPropKeys, usePickerClassName, usePublicMethods, useToggleKeyDownEvent } from '../Picker';\nimport { createChainedFunction, DATERANGE_DISABLED_TARGET, DateUtils, mergeRefs, useClassNames, useControlled, useCustom } from '../utils';\nimport { addMonths, compareAsc, isSameMonth } from '../utils/dateUtils';\nimport Calendar from './Calendar';\nimport * as disabledDateUtils from './disabledDateUtils';\nimport { getCalendarDate, getMonthHoverRange, getWeekHoverRange, isSameRange, setTimingMargin } from './utils';\nvar DateRangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref, _ref2, _merge;\n\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n      className = props.className,\n      _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n      _props$cleanable = props.cleanable,\n      cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n      _props$character = props.character,\n      character = _props$character === void 0 ? ' ~ ' : _props$character,\n      defaultCalendarValue = props.defaultCalendarValue,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      disabledDateProp = props.disabledDate,\n      _props$format = props.format,\n      formatStr = _props$format === void 0 ? 'yyyy-MM-dd' : _props$format,\n      hoverRange = props.hoverRange,\n      _props$isoWeek = props.isoWeek,\n      isoWeek = _props$isoWeek === void 0 ? false : _props$isoWeek,\n      _props$limitEndYear = props.limitEndYear,\n      limitEndYear = _props$limitEndYear === void 0 ? 1000 : _props$limitEndYear,\n      overrideLocale = props.locale,\n      menuClassName = props.menuClassName,\n      menuStyle = props.menuStyle,\n      oneTap = props.oneTap,\n      _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? '' : _props$placeholder,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n      ranges = props.ranges,\n      renderValue = props.renderValue,\n      _props$showOneCalenda = props.showOneCalendar,\n      showOneCalendar = _props$showOneCalenda === void 0 ? false : _props$showOneCalenda,\n      showWeekNumbers = props.showWeekNumbers,\n      showMeridian = props.showMeridian,\n      style = props.style,\n      toggleAs = props.toggleAs,\n      caretAs = props.caretAs,\n      valueProp = props.value,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onOk = props.onOk,\n      onOpen = props.onOpen,\n      onSelect = props.onSelect,\n      renderTitle = props.renderTitle,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"className\", \"appearance\", \"cleanable\", \"character\", \"defaultCalendarValue\", \"defaultValue\", \"disabled\", \"disabledDate\", \"format\", \"hoverRange\", \"isoWeek\", \"limitEndYear\", \"locale\", \"menuClassName\", \"menuStyle\", \"oneTap\", \"placeholder\", \"placement\", \"ranges\", \"renderValue\", \"showOneCalendar\", \"showWeekNumbers\", \"showMeridian\", \"style\", \"toggleAs\", \"caretAs\", \"value\", \"onChange\", \"onClean\", \"onClose\", \"onEnter\", \"onEntered\", \"onExited\", \"onOk\", \"onOpen\", \"onSelect\", \"renderTitle\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var _useCustom = useCustom('DateRangePicker', overrideLocale),\n      locale = _useCustom.locale,\n      formatDate = _useCustom.formatDate,\n      parseDate = _useCustom.parseDate;\n\n  var rangeFormatStr = \"\" + formatStr + character + formatStr;\n\n  var _useControlled = useControlled(valueProp, defaultValue !== null && defaultValue !== void 0 ? defaultValue : null),\n      value = _useControlled[0],\n      setValue = _useControlled[1];\n  /**\n   * Whether to complete the selection.\n   * Everytime selection will change this value. If the value is false, it means that the selection has not been completed.\n   *\n   * In `oneTap` mode, select action will not change this value, its value should be true always.\n   */\n\n\n  var hasDoneSelect = useRef(true);\n  /**\n   * The currently selected date range.\n   *\n   * The time range is selected by two clicks. After the first click,\n   * the cursor will store a temporary event date in the process until\n   * the second click to determine the end date of the date range.\n   *\n   */\n\n  var _useState = useState((_ref = valueProp !== null && valueProp !== void 0 ? valueProp : defaultValue) !== null && _ref !== void 0 ? _ref : []),\n      selectedDates = _useState[0],\n      setSelectedDates = _useState[1]; // The date of the current hover, used to reduce the calculation of `handleMouseMove`\n\n\n  var _useState2 = useState(null),\n      hoverDateRange = _useState2[0],\n      setHoverDateRange = _useState2[1]; // The displayed calendar panel is rendered based on this value.\n\n\n  var _useState3 = useState(getCalendarDate({\n    value: (_ref2 = valueProp !== null && valueProp !== void 0 ? valueProp : defaultCalendarValue) !== null && _ref2 !== void 0 ? _ref2 : null\n  })),\n      calendarDate = _useState3[0],\n      setCalendarDate = _useState3[1];\n\n  var _useState4 = useState(),\n      inputState = _useState4[0],\n      setInputState = _useState4[1];\n  /**\n   * When hoverRange is set, `selectValue` will be updated during the hover process,\n   * which will cause the `selectValue` to be updated after the first click,\n   * so declare a Ref to temporarily store the `selectValue` of the first click.\n   */\n\n\n  var selectRangeValueRef = useRef(null);\n  /**\n   * Call this function to update the calendar panel rendering benchmark value.\n   * If params `value` is not passed, it defaults to [new Date(), addMonth(new Date(), 1)].\n   */\n\n  var updateCalendarDate = useCallback(function (value) {\n    setCalendarDate(getCalendarDate({\n      value: value\n    }));\n  }, []); // if valueProp changed then update selectValue/hoverValue\n\n  useEffect(function () {\n    setSelectedDates(valueProp !== null && valueProp !== void 0 ? valueProp : []);\n    setHoverDateRange(valueProp !== null && valueProp !== void 0 ? valueProp : null);\n  }, [valueProp]);\n\n  var _useState5 = useState(false),\n      isPickerToggleActive = _useState5[0],\n      setPickerToggleActive = _useState5[1];\n\n  var rootRef = useRef(null);\n  var overlayRef = useRef(null);\n  var targetRef = useRef(null);\n  var triggerRef = useRef(null);\n  var handleCloseDropdown = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    rootRef: rootRef\n  });\n  var getDisplayString = useCallback(function (nextValue, isPlaintext) {\n    var _nextValue$, _nextValue$2;\n\n    var startDate = (_nextValue$ = nextValue === null || nextValue === void 0 ? void 0 : nextValue[0]) !== null && _nextValue$ !== void 0 ? _nextValue$ : null;\n    var endDate = (_nextValue$2 = nextValue === null || nextValue === void 0 ? void 0 : nextValue[1]) !== null && _nextValue$2 !== void 0 ? _nextValue$2 : null;\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n\n      if (isPlaintext) {\n        return formatDate(displayValue[0], formatStr) + character + formatDate(displayValue[1], formatStr);\n      }\n\n      return renderValue ? renderValue(displayValue, formatStr) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatStr\n      }), character, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatStr\n      }));\n    }\n\n    return isPlaintext ? '' : placeholder || rangeFormatStr;\n  }, [character, formatDate, formatStr, placeholder, rangeFormatStr, renderValue]);\n  /**\n   * preset hover range\n   */\n\n  var getHoverRangeValue = useCallback(function (date) {\n    function getHoverRangeFunc() {\n      if (hoverRange === 'week') {\n        return partial(getWeekHoverRange, isoWeek);\n      } else if (hoverRange === 'month') {\n        return getMonthHoverRange;\n      }\n\n      return hoverRange;\n    }\n\n    var hoverRangeFunc = getHoverRangeFunc();\n\n    if (isNil(hoverRangeFunc)) {\n      return null;\n    }\n\n    var hoverValues = hoverRangeFunc(date);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return null;\n    }\n\n    if (DateUtils.isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  }, [hoverRange, isoWeek]);\n  var handleValueUpdate = useCallback(function (event, nextValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n\n    // If nextValue is null, it means that the user is erasing the selected dates.\n    setSelectedDates(nextValue !== null && nextValue !== void 0 ? nextValue : []);\n\n    if (!isSameRange(nextValue, value, formatStr)) {\n      setValue(nextValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(nextValue, event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      handleCloseDropdown();\n    }\n  }, [formatStr, handleCloseDropdown, onChange, setValue, value]);\n  /**\n   * Select the date range. If oneTap is not set, you need to click twice to select the start time and end time.\n   * The MouseMove event is called between the first click and the second click to update the selection state.\n   */\n\n  var handleMouseMove = useCallback(function (date) {\n    var nextHoverDateRange = getHoverRangeValue(date); // If hasDoneSelect is false,\n    // it means there's already one selected date\n    // and waiting for user to select the second date to complete the selection.\n\n    if (!hasDoneSelect.current) {\n      // If `hoverRange` is set, you need to change the value of hoverDateRange according to the rules\n      if (!isNil(nextHoverDateRange) && !isNil(selectRangeValueRef.current)) {\n        var nextSelectedDates = [selectRangeValueRef.current[0], nextHoverDateRange[1]];\n\n        if (DateUtils.isBefore(nextHoverDateRange[0], selectRangeValueRef.current[0])) {\n          nextSelectedDates = [nextHoverDateRange[0], selectRangeValueRef.current[1]];\n        }\n\n        setSelectedDates(nextSelectedDates);\n      } else {\n        setHoverDateRange(function (prevHoverValue) {\n          return isNil(prevHoverValue) ? null : [prevHoverValue[0], date];\n        });\n      } // Before the first click, if nextHoverDateRange has a value, hoverDateRange needs to be updated\n\n    } else if (!isNil(nextHoverDateRange)) {\n      setHoverDateRange(nextHoverDateRange);\n    }\n  }, [getHoverRangeValue]);\n  /**\n   * Callback for selecting a date cell in the calendar grid\n   */\n\n  var handleSelectDate = useCallback(function (date, event) {\n    var nextSelectDates = hoverDateRange !== null && hoverDateRange !== void 0 ? hoverDateRange : [];\n    var hoverRangeValue = getHoverRangeValue(date);\n    var noHoverRangeValid = isNil(hoverRangeValue); // in `oneTap` mode\n\n    if (hasDoneSelect.current && oneTap) {\n      handleValueUpdate(event, noHoverRangeValid ? [setTimingMargin(date), setTimingMargin(date, 'right')] : hoverRangeValue);\n      hasDoneSelect.current = false;\n      return;\n    } // no preset hover range can use\n\n\n    if (noHoverRangeValid) {\n      // start select\n      if (hasDoneSelect.current) {\n        nextSelectDates = [date];\n      } else {\n        // finish select\n        nextSelectDates[1] = date;\n      }\n    } else {\n      if (!hasDoneSelect.current) {\n        nextSelectDates = selectedDates;\n        selectRangeValueRef.current = null;\n      } else {\n        nextSelectDates = hoverRangeValue;\n        selectRangeValueRef.current = hoverRangeValue;\n      }\n    } // If user have completed the selection, then sort\n\n\n    if (nextSelectDates.length === 2 && DateUtils.isAfter(nextSelectDates[0], nextSelectDates[1])) {\n      nextSelectDates.reverse();\n    }\n\n    setHoverDateRange(nextSelectDates.length === 2 ? nextSelectDates : [nextSelectDates[0], nextSelectDates[0]]);\n    setSelectedDates(nextSelectDates);\n    updateCalendarDate(nextSelectDates);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(date, event);\n    hasDoneSelect.current = !hasDoneSelect.current;\n  }, [getHoverRangeValue, handleValueUpdate, hoverDateRange, onSelect, oneTap, selectedDates, updateCalendarDate]);\n  /**\n   * If `selectValue` changed, there will be the following effects.\n   * 1. Check if the selection is completed.\n   * 2. if the selection is completed, set the temporary `hoverValue` empty.\n   */\n\n  useEffect(function () {\n    var selectValueLength = selectedDates.length;\n    var doneSelected = selectValueLength === 0 || selectValueLength === 2;\n    doneSelected && setHoverDateRange(null);\n  }, [selectedDates]);\n  var handleChangeCalendarDate = useCallback(function (index, date) {\n    var nextCalendarDate = Array.from(calendarDate);\n    nextCalendarDate[index] = date;\n    updateCalendarDate(nextCalendarDate);\n  }, [calendarDate, updateCalendarDate]);\n  var handleChangeCalendarTime = useCallback(function (index, date) {\n    setSelectedDates(function (prev) {\n      var next = [].concat(prev);\n      var clonedDate = new Date(date.valueOf()); // if next[index] is not empty, only update the time after aligning the year, month and day\n\n      if (next[index]) {\n        clonedDate.setFullYear(next[index].getFullYear(), next[index].getMonth(), next[index].getDate());\n      }\n\n      next[index] = clonedDate;\n      return next;\n    });\n    handleChangeCalendarDate(index, date);\n  }, [handleChangeCalendarDate]);\n  /**\n   * The callback triggered when PM/AM is switched.\n   */\n\n  var handleToggleMeridian = useCallback(function (index) {\n    var next = Array.from(calendarDate);\n    var clonedDate = new Date(next[index].valueOf());\n    var hours = DateUtils.getHours(clonedDate);\n    var nextHours = hours >= 12 ? hours - 12 : hours + 12;\n    next[index] = DateUtils.setHours(clonedDate, nextHours);\n    setCalendarDate(next); // If the value already exists, update the value again.\n\n    if (selectedDates.length === 2) {\n      setSelectedDates(next);\n    }\n  }, [calendarDate, selectedDates]);\n  /**\n   * Toolbar operation callback function\n   */\n\n  var handleShortcutPageDate = useCallback(function (value, closeOverlay, event) {\n    if (closeOverlay === void 0) {\n      closeOverlay = false;\n    }\n\n    handleValueUpdate(event, value, closeOverlay);\n  }, [handleValueUpdate]);\n  var handleOK = useCallback(function (event) {\n    handleValueUpdate(event, selectedDates);\n    onOk === null || onOk === void 0 ? void 0 : onOk(selectedDates, event);\n  }, [handleValueUpdate, onOk, selectedDates]);\n  var handleClean = useCallback(function (event) {\n    updateCalendarDate(null);\n    handleValueUpdate(event, null);\n  }, [handleValueUpdate, updateCalendarDate]);\n  /**\n   * Callback after the input box value is changed.\n   */\n\n  var handleInputChange = useCallback(function (value) {\n    setInputState('Typing');\n    var rangeValue = value.split(character); // isMatch('01/11/2020', 'MM/dd/yyyy') ==> true\n    // isMatch('2020-11-01', 'MM/dd/yyyy') ==> false\n\n    if (!DateUtils.isMatch(rangeValue[0], formatStr, {\n      locale: locale.dateLocale\n    }) || !DateUtils.isMatch(rangeValue[1], formatStr, {\n      locale: locale.dateLocale\n    })) {\n      setInputState('Error');\n      return;\n    }\n\n    var startDate = parseDate(rangeValue[0], formatStr);\n    var endDate = parseDate(rangeValue[1], formatStr);\n    var selectValue = [startDate, endDate];\n\n    if (!DateUtils.isValid(startDate) || !DateUtils.isValid(endDate)) {\n      setInputState('Error');\n      return;\n    }\n\n    if (isDateDisabled(startDate, selectValue, true, DATERANGE_DISABLED_TARGET.CALENDAR)) {\n      setInputState('Error');\n      return;\n    }\n\n    setHoverDateRange(selectValue);\n    setSelectedDates(selectValue);\n    updateCalendarDate(selectValue);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [character, rangeFormatStr, updateCalendarDate]);\n  /**\n   * The callback after the enter key is triggered on the input\n   */\n\n  var handleInputPressEnd = useCallback(function (event) {\n    if (inputState === 'Typing') {\n      handleValueUpdate(event, selectedDates.length === 2 ? selectedDates : null);\n    }\n\n    setInputState('Initial');\n  }, [handleValueUpdate, selectedDates, inputState]);\n  var handleEnter = useCallback(function () {\n    var nextCalendarDate;\n\n    if (value && value.length) {\n      var _startDate = value[0],\n          endData = value[1];\n      nextCalendarDate = [_startDate, isSameMonth(_startDate, endData) ? addMonths(endData, 1) : endData];\n    } else {\n      nextCalendarDate = getCalendarDate({\n        value: defaultCalendarValue !== null && defaultCalendarValue !== void 0 ? defaultCalendarValue : null\n      });\n    }\n\n    setSelectedDates(value !== null && value !== void 0 ? value : []);\n    updateCalendarDate(nextCalendarDate);\n  }, [defaultCalendarValue, updateCalendarDate, setSelectedDates, value]);\n  var handleEntered = useCallback(function () {\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setPickerToggleActive(true);\n  }, [onOpen]);\n  var handleExited = useCallback(function () {\n    setPickerToggleActive(false);\n    hasDoneSelect.current = true;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose]);\n  var isDateDisabled = useCallback(function (date, selectDate, selectedDone, target) {\n    var _disabledDateProp;\n\n    return (_disabledDateProp = disabledDateProp === null || disabledDateProp === void 0 ? void 0 : disabledDateProp(date, selectDate, selectedDone, target)) !== null && _disabledDateProp !== void 0 ? _disabledDateProp : false;\n  }, [disabledDateProp]);\n  var disabledByBetween = useCallback(function (start, end, type) {\n    // If the date is between the start and the end\n    // the button is disabled\n    while (DateUtils.isBefore(start, end) || DateUtils.isSameDay(start, end)) {\n      if (isDateDisabled(start, selectedDates, hasDoneSelect.current, type)) {\n        return true;\n      }\n\n      start = DateUtils.addDays(start, 1);\n    }\n\n    return false;\n  }, [isDateDisabled, selectedDates]);\n  var disabledOkButton = useCallback(function () {\n    var start = selectedDates[0],\n        end = selectedDates[1];\n\n    if (!start || !end || !hasDoneSelect.current) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n  }, [disabledByBetween, selectedDates]);\n  var disabledShortcutButton = useCallback(function (value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    var _value = value,\n        start = _value[0],\n        end = _value[1];\n\n    if (!start || !end) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n  }, [disabledByBetween]);\n  var handleDisabledDate = useCallback(function (date, values, type) {\n    return isDateDisabled(date, values, hasDoneSelect.current, type);\n  }, [isDateDisabled]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    active: isPickerToggleActive,\n    onExit: handleClean\n  }, rest));\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('daterange-menu'));\n    var panelClasses = prefix('daterange-panel', {\n      'daterange-panel-show-one-calendar': showOneCalendar\n    });\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var panelProps = {\n      calendarDate: calendarDate,\n      disabledDate: handleDisabledDate,\n      format: formatStr,\n      hoverRangeValue: hoverDateRange !== null && hoverDateRange !== void 0 ? hoverDateRange : undefined,\n      isoWeek: isoWeek,\n      limitEndYear: limitEndYear,\n      locale: locale,\n      showOneCalendar: showOneCalendar,\n      showWeekNumbers: showWeekNumbers,\n      value: selectedDates,\n      showMeridian: showMeridian,\n      onChangeCalendarDate: handleChangeCalendarDate,\n      onChangeCalendarTime: handleChangeCalendarTime,\n      onMouseMove: handleMouseMove,\n      onSelect: handleSelectDate,\n      onToggleMeridian: handleToggleMeridian,\n      renderTitle: renderTitle\n    };\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      className: classes,\n      ref: mergeRefs(overlayRef, speakerRef),\n      target: triggerRef,\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: panelClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-content')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-header')\n    }, getDisplayString(selectedDates)), /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 0\n    }, panelProps)), !showOneCalendar && /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 1\n    }, panelProps)))), /*#__PURE__*/React.createElement(Toolbar, {\n      locale: locale,\n      calendarDate: selectedDates,\n      disabledOkBtn: disabledOkButton,\n      disabledShortcut: disabledShortcutButton,\n      hideOkBtn: oneTap,\n      onOk: handleOK,\n      onClickShortcut: handleShortcutPageDate,\n      ranges: ranges\n    })));\n  };\n\n  var hasValue = !isNil(value) && value.length > 1;\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    classPrefix: classPrefix,\n    name: 'daterange',\n    appearance: appearance,\n    hasValue: hasValue,\n    cleanable: cleanable\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    ref: rootRef,\n    className: merge(className, classes, (_merge = {}, _merge[prefix('error')] = inputState === 'Error', _merge)),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys, DateUtils.calendarOnlyProps)), {\n    as: toggleAs,\n    ref: targetRef,\n    appearance: appearance,\n    input: true,\n    inputMask: DateUtils.getDateMask(rangeFormatStr),\n    inputValue: value ? getDisplayString(value, true) : '',\n    inputPlaceholder: typeof placeholder === 'string' && placeholder ? placeholder : rangeFormatStr,\n    onInputChange: handleInputChange,\n    onInputBlur: handleInputPressEnd,\n    onInputPressEnter: handleInputPressEnd,\n    onKeyDown: onPickerKeyDown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: isPickerToggleActive,\n    placement: placement,\n    disabled: disabled,\n    caretAs: caretAs || IconCalendar\n  }), getDisplayString(value))));\n});\nDateRangePicker.after = disabledDateUtils.after;\nDateRangePicker.afterToday = disabledDateUtils.afterToday;\nDateRangePicker.allowedDays = disabledDateUtils.allowedDays;\nDateRangePicker.allowedMaxDays = disabledDateUtils.allowedMaxDays;\nDateRangePicker.allowedRange = disabledDateUtils.allowedRange;\nDateRangePicker.before = disabledDateUtils.before;\nDateRangePicker.beforeToday = disabledDateUtils.beforeToday;\nDateRangePicker.combine = disabledDateUtils.combine;\nDateRangePicker.displayName = 'DateRangePicker';\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showWeekNumbers: PropTypes.bool,\n  showMeridian: PropTypes.bool,\n  showOneCalendar: PropTypes.bool\n});\nexport default DateRangePicker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}